{% extends 'base.html' %}

{% block title %}Supprimer mon compte - MPP 2027{% endblock title %}

{% block content %}

<div class="auth-layout">

    <h1 style="text-align: center; color: var(--couleur-secondaire); margin-bottom: 30px; font-weight: 800; text-transform: uppercase;">
        Zone de danger
    </h1>

    <div class="dashboard-card" style="padding: 40px; text-align: center;">

        <div style="margin-bottom: 25px;">
            <i class="fas fa-exclamation-triangle" style="font-size: 4em; color: #C33037;"></i>
        </div>

        <h2 style="color: #333; margin-top: 0; font-weight: 800; margin-bottom: 15px;">
            Êtes-vous absolument sûr ?
        </h2>

        <p style="color: #555; font-size: 1.1em; line-height: 1.6; margin-bottom: 25px;">
            Vous êtes sur le point de supprimer définitivement le compte <br>
            <strong style="color: #1C3047; font-size: 1.2em;">{{ user.pseudo|default:user.email }}</strong>.
        </p>

        <div style="background: #FFF5F5; border: 1px solid #f5c6cb; border-left: 5px solid #C33037; padding: 15px; text-align: left; margin-bottom: 30px; border-radius: 5px; color: #721c24;">
            <strong>⚠️ Attention : Cette action est irréversible.</strong><br>
            <span style="font-size: 0.95em;">Vos informations de profil seront supprimées. Vos articles et commentaires ne seront pas effacés mais ne seront plus liés à aucun utilisateur.</span>
        </div>

        <form method="POST">
            {% csrf_token %}

            <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">

                <a href="{% url 'users:profile' %}" style="padding: 12px 25px; border-radius: 8px; text-decoration: none; color: #555; font-weight: bold; border: 1px solid #ddd; background: #fff; transition: all 0.2s;">
                    Annuler
                </a>

                <button type="submit" class="btn-action red" style="border: none; cursor: pointer; font-size: 1.1em; padding: 12px 25px; box-shadow: 0 4px 10px rgba(195, 48, 55, 0.3);">
                    Oui, supprimer mon compte
                </button>
            </div>
        </form>

    </div>

</div>

{% endblock content %}