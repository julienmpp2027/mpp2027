{% extends 'base.html' %}

{% block title %}Inscription - MPP 2027{% endblock title %}

{% block content %}

<div class="auth-layout">

    <h1 style="text-align: center; color: var(--couleur-secondaire); margin-bottom: 30px; font-weight: 800; text-transform: uppercase;">
        Rejoignez le mouvement
    </h1>

    <div class="dashboard-card" style="padding: 40px;">

        <form method="POST">
            {% csrf_token %}

            {% if form.non_field_errors %}
                <div class="alert alert-danger">
                    {% for error in form.non_field_errors %}
                        {{ error }}
                    {% endfor %}
                </div>
            {% endif %}

            {% for field in form %}
                <div class="form-group">
                    <label for="{{ field.id_for_label }}">{{ field.label }}</label>

                    {{ field }}

                    {% if field.errors %}
                        <div class="field-errors">
                            {% for error in field.errors %}
                                <p style="margin: 5px 0 0 0;"><i class="fas fa-exclamation-circle"></i> {{ error }}</p>
                            {% endfor %}
                        </div>

                        {% if field.help_text %}
                            <p class="help-text" style="margin-top: 5px; font-size: 0.85em;">
                                {{ field.help_text|safe }}
                            </p>
                        {% endif %}
                    {% endif %}
                </div>
            {% endfor %}

            <button type="submit" class="btn-action red" style="width: 100%; margin-top: 20px; border: none; cursor: pointer; font-size: 1.1em; padding: 15px;">
                Créer mon compte
            </button>

        </form>

    </div>

    <div class="auth-links">
        <p>Vous avez déjà un compte ? <a href="{% url 'users:login' %}">Connectez-vous ici</a></p>
    </div>

</div>

{% endblock content %}